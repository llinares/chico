<!doctype html>
<html lang="es">
	<head>
		<script></script>
		<meta charset="utf-8">
		<title>Chico UI: Ejemplos</title>
		<script src="../libs/js/jquery-1.4.4.js"></script>
		
		<style>
		 #o {
		  display:none; 
		 }

		</style>
	</head>
	
	<body>	

    <!--object id="o" data="http://3.bp.blogspot.com/_Fiz7GTCvbys/TJUG51S4iAI/AAAAAAAAAG4/6xzFIVoYbvI/s1600/he-man.jpg"></object-->

    <button id="btn">Ver</button>
    
    <script>
    ui = {};
    ui.cache = {
        map: {},
        add: function(url, data) {
            ui.cache.map[url] = data;
        },
        get: function(url) {
          return ui.cache.map[url];
        },
        rem: function(url) {
            ui.cache.map[url] = null;
            delete ui.cache.map[url];
        },
        flush: function() {
            delete ui.cache.map;
            ui.cache.map = {};
        }        
    };

    ui.preload = function(arr)Â {
        
        if (typeof arr === "string") {
            arr = (arr.indexOf(",") > 0) ? arr.split(",") : [arr] ;
        }
        
        for (var i=0;i<arr.length;i++) {
            var o = document.createElement("object");
                o.data = arr[i]; // URL
            var h = document.getElementsByTagName("head")[0];
                h.appendChild(o);
                h.removeChild(o);       
        }
        
    }

    var imgs = ["http://3.bp.blogspot.com/_Fiz7GTCvbys/TJUG51S4iAI/AAAAAAAAAG4/6xzFIVoYbvI/s1600/he-man.jpg",
                "http://blogs.hoycinema.com/blogfiles/astroboy/15778_astroboy.jpg"];
                
    ui.preload("http://imagenesdecaricaturas.co.cc/wp-content/uploads/2010/09/carro-de-meteoro-la-pelicula.jpg");
    ui.preload(imgs);
        
    $("#btn").click(function(){
        
        $("<img>").attr("src","http://imagenesdecaricaturas.co.cc/wp-content/uploads/2010/09/carro-de-meteoro-la-pelicula.jpg").appendTo("body");
        
        $(imgs).each(function(i,e){
            
           $("<img>").attr("src",e).appendTo("body");
           
        });
        
    });
            
    </script>

	</body>
</html>
